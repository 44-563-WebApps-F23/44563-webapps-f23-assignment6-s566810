<!DOCTYPE html>
<html>
    <head>
<title>WebApps Assigment -6</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>

</style>
</head>

<body>
    <div class="container">
      <h2 style="text-align: center ; background-color: cornflowerblue;" >Author entry by Sangeetha Baddam</h2>
    <form>
        <div class="mb-2">
            <label for="form1_age" class="form-label">The hidden author name </label>
            <input type="password" id="secret_Author" class="form-control" name="form1_age" min=10 max=50 step=2 value="Dickens"> <br>
        </div>

        <div class="mb-2">
        <label for="form1_nick" class="form-label">Guess the Author</label>
        <input type="text" id="guess_Author" class="form-control" name="form1_nick" autofocus> <br>
        </div>

        <input id="button" type="button" class="btn btn-success" onclick="checkAuthor()" value="Check the guess">

        <p class="mt-2" id="result">This text will be replaced </p>
        <div id="turns">
            Incorrect guesses count
        </div>
        <br>
        <div id="imageContainer">
            <img class="rounded float-start" id="City_img" src="./images/banglore.jpg" width="100" height="100" onclick="selectImage()">
        </div>
    </form>
</div>
    <script>

        let good = 0;
        let oops = 0;


        function checkAuthor() {
            const secretAuthor = document.getElementById('secret_Author').value;
            const guessAuthor = document.getElementById('guess_Author').value;

            if(oops >= 7){
                document.getElementById("button").disabled = true;
                alert("Sorry, ran out of guesses!!");
                document.getElementById('turns').innerText = "Sorry, ran out of guesses!!"
            }else{
            if (secretAuthor == guessAuthor) {
                alert('you got it right!');
                oops = 0;
                document.getElementById('turns').innerText = `You have <span style="color:green">${oops}</span> incorrect Guesses`
                good++;
            } else {
                alert('Sorry');
                oops++;
            }
            document.getElementById('turns').innerHTML = `You have <span style="color:red; background-color:yellow">${oops}</span> incorrect Guesses`;
            document.getElementById('result').innerHTML = `right: ${good}, wrong: ${oops}`;
        }
    }
    

        var useImage = 1;
        function selectImage() {
            var image = document.getElementById("City_img");

            switch (useImage) {
                case 1:
                    image.src = "./images/delhi.jpg";
                    useImage = 2;
                    break;
                case 2:
                    image.src = "./images/maldives.jpg";
                    useImage = 3;
                    break;
                case 3:
                    image.src = "./images/banglore.jpg";
                    useImage = 1;
                    break;
                default:
                    break;
            }
        }

    </script>
</body>

</html>